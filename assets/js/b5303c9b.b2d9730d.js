"use strict";(self.webpackChunkapache_streampark_website=self.webpackChunkapache_streampark_website||[]).push([[5480],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>u});var o=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,o,n=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var c=o.createContext({}),l=function(e){var t=o.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},d=function(e){var t=l(e.components);return o.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),m=l(r),u=n,k=m["".concat(c,".").concat(u)]||m[u]||p[u]||a;return r?o.createElement(k,i(i({ref:t},d),{},{components:r})):o.createElement(k,i({ref:t},d))}));function u(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,i=new Array(a);i[0]=m;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:n,i[1]=s;for(var l=2;l<a;l++)i[l]=r[l];return o.createElement.apply(null,i)}return o.createElement.apply(null,r)}m.displayName="MDXCreateElement"},1174:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var o=r(7462),n=(r(7294),r(3905));const a={id:"docker-deployment",title:"Docker Quick Tutorial",sidebar_position:4},i=void 0,s={unversionedId:"user-guide/docker-deployment",id:"user-guide/docker-deployment",title:"Docker Quick Tutorial",description:"This tutorial uses the docker-compose method to deploy StreamPark via Docker.",source:"@site/docs/user-guide/4-dockerDeployment.md",sourceDirName:"user-guide",slug:"/user-guide/docker-deployment",permalink:"/docs/user-guide/docker-deployment",draft:!1,editUrl:"https://github.com/apache/incubator-streampark-website/edit/dev/docs/user-guide/4-dockerDeployment.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"docker-deployment",title:"Docker Quick Tutorial",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Develop Environment",permalink:"/docs/user-guide/development"},next:{title:"LDAP Quick Tutorial",permalink:"/docs/user-guide/LDAP"}},c={},l=[{value:"Prepare",id:"prepare",level:2},{value:"Using docker-compose to Start Server",id:"using-docker-compose-to-start-server",level:2},{value:"1.Build via mvn",id:"1build-via-mvn",level:3},{value:"2.Execute the Docker Compose build command",id:"2execute-the-docker-compose-build-command",level:3},{value:"3.Login System",id:"3login-system",level:3},{value:"4.Setting up Flink Home on StreamPark Web Ui",id:"4setting-up-flink-home-on-streampark-web-ui",level:3},{value:"5.Starting a remote session cluster",id:"5starting-a-remote-session-cluster",level:3},{value:"6.Complete the above steps and perform a Flink task submission",id:"6complete-the-above-steps-and-perform-a-flink-task-submission",level:3}],d={toc:l};function p(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,o.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"This tutorial uses the docker-compose method to deploy StreamPark via Docker."),(0,n.kt)("h2",{id:"prepare"},"Prepare"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"Docker 1.13.1+\nDocker Compose 1.28.0+\n")),(0,n.kt)("h2",{id:"using-docker-compose-to-start-server"},"Using docker-compose to Start Server"),(0,n.kt)("p",null,"To start the service with docker-compose, you need to install ",(0,n.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/install/"},"docker-compose"),"\uff0cfirst, the link is available for Mac, Linux, Windows."),(0,n.kt)("p",null,"After installing docker-compose, we need to modify some of the configurations to better experience the StreamPark service, we need to configure at least 4GB of memory."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"Mac\uff1aClick Docker Desktop -> Preferences -> Resources -> Memory modified it\nWindows Docker Desktop\uff1a\n    Hyper-V mode: Click Docker Desktop -> Settings -> Resources -> Memory modified it\n    WSL 2 mode: see WSL 2 utility VM for more detail.\n")),(0,n.kt)("p",null,"After completing the configuration, we can get the source package of StreamPark files from the download page and make sure you get the correct version.\nAfter downloading the package, you can run the following command."),(0,n.kt)("h3",{id:"1build-via-mvn"},"1.Build via mvn"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"./build.sh\n")),(0,n.kt)("p",null,(0,n.kt)("img",{src:r(8025).Z,width:"1142",height:"544"}),"\nNote: The Scala version of Flink and the Scala version of StreamPark need to be consistent, please choose Scala 2.12 for this build."),(0,n.kt)("h3",{id:"2execute-the-docker-compose-build-command"},"2.Execute the Docker Compose build command"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"cd deploy/docker\ndocker-compose up -d\n")),(0,n.kt)("p",null,(0,n.kt)("img",{src:r(2152).Z,width:"994",height:"330"})),(0,n.kt)("h3",{id:"3login-system"},"3.Login System"),(0,n.kt)("p",null,"Once the service is started, StreamPark can be accessed through http://localhost:10000 and also through http://localhost:8081 to access Flink. Accessing the StreamPark link will redirect you to the login page, where the default user and password for StreamPark are admin and streamx respectively. To learn more about the operation, please refer to the user manual for a quick start."),(0,n.kt)("h3",{id:"4setting-up-flink-home-on-streampark-web-ui"},"4.Setting up Flink Home on StreamPark Web Ui"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"/streamx/flink/flink1.14.5/\n")),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"img.png",src:r(1777).Z,width:"1310",height:"498"})),(0,n.kt)("h3",{id:"5starting-a-remote-session-cluster"},"5.Starting a remote session cluster"),(0,n.kt)("p",null,"Go to StreamPark web ui and click Setting->Flink Cluster to create a remote (standalone) mode cluster.\n",(0,n.kt)("img",{alt:"img.png",src:r(4999).Z,width:"1302",height:"550"})),(0,n.kt)("p",null,"tips: mac computer to get the real ip address of flink, can be through ifconfig."),(0,n.kt)("h3",{id:"6complete-the-above-steps-and-perform-a-flink-task-submission"},"6.Complete the above steps and perform a Flink task submission"),(0,n.kt)("p",null,"In the StreamPark web ui click Application->Add New to create a remote (standalone) mode submission.\n",(0,n.kt)("img",{alt:"img.png",src:r(6318).Z,width:"1207",height:"627"})))}p.isMDXComponent=!0},4999:(e,t,r)=>{r.d(t,{Z:()=>o});const o=r.p+"assets/images/remote-c75d520f5a61d9f100c0e1c58d304eb3.png"},6318:(e,t,r)=>{r.d(t,{Z:()=>o});const o=r.p+"assets/images/remoteSubmission-390200dc9d1b5a55add19d303add2698.png"},8025:(e,t,r)=>{r.d(t,{Z:()=>o});const o=r.p+"assets/images/streamx_build-07b45fc6f25a8f8fadaea22876e7fa9d.png"},2152:(e,t,r)=>{r.d(t,{Z:()=>o});const o=r.p+"assets/images/streamx_docker-compose-25ecea5d17a13e9277bd457e54e2adeb.png"},1777:(e,t,r)=>{r.d(t,{Z:()=>o});const o=r.p+"assets/images/streamx_flinkhome-d6e90dd6fa04a003feef2eb6086ca3c3.png"}}]);